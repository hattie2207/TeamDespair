<!DOCTYPE html>
<html>
<head>
</head>
    <body>
        <div>
            <form id ="user_rest_controller_post">
                <input id="enabled" placeholder="enabled"><br>
                <input id="username" placeholder="username"><br>
                <input type="password" id="password" placeholder="password"><br>
                <input id="id" placeholder="id"><br>
                <input id="name" placeholder="name"><br>
                <button id="post">Post</button>
            </form>

        </div>
        <form id = "http://localhost:9966/petclinic/api/owners">
            <input id="address"><br>
            <input id="city"><br>
            <input id="firstName"><br>
            <input id="lastName"><br>
            <input id="pets"><br>
            <input id="telephone"><br>
            <div>
                pets
                <input id="birthDate" ><br>
                <input id="name"><br>
                <input id="owner"><br>
                <input id="typeid"><br>
                <input id="typename"><br>
                <input id="visitsdate"><br>
                <input id="visitsdescription"><br>
                <input id="visitsid"><br>
                <input id="visitspet"><br>
                <input id="telephone"><br>
            </div>

        </form>
        
        
    </body>
    <script>
        'use strict';
        document.getElementById("post").addEventListener("click", post1);

        let obj = {};

        var url = "http://localhost:9966/petclinic/api/owners";

        function postHttprequest(data){

        var json = JSON.stringify(data);

        var xhr = new XMLHttpRequest();
        xhr.open("POST", url, true);
        xhr.setRequestHeader('Content-type','application/json; charset=utf-8');
        xhr.onload = function () {
            var users = JSON.parse(xhr.responseText);
            if (xhr.readyState == 4 && xhr.status == "201") {
                console.table(users);
            } else {
                console.error(users);
            }
        }
        xhr.send(json);
}
        

        function post1(){
            let object = {};
            let roles = {};
            let textEnabled = document.getElementById("enabled").value;
            let textUsername = document.getElementById("username").value;
            let textPassword = document.getElementById("password").value;
            let textId = document.getElementById("id").value;
            let textName = document.getElementById("name").value;
            
            object["enabled"]=textEnabled;
            object["username"]=textUsername;
            object["password"]=textPassword;
            roles["id"]=textId;
            roles["name"]=textName;
            object["roles"] = roles;

            obj = object;
            console.log(object);
            postHttprequest(object);
        }
        
    </script>

</html>